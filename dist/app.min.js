!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.app=e():t.app=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var s=n(1),o=i(s);new o.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),r=i(a),u=n(3),l=i(u),c=n(4),h=i(c),f=function(){function t(){s(this,t),this._penSizeValueElement=document.getElementById("penSizeValue"),this._penColorElement=document.getElementById("penColor"),this._points=[],this._shapes=[],this._setupCanvas(),this._setupContext(),this._attachListeners()}return o(t,[{key:"_attachListeners",value:function(){h.default.isTouchDevice()?(this._canvasElement.addEventListener("touchstart",this._startDraw.bind(this),{passive:!0}),this._canvasElement.addEventListener("touchcancel",this._cancelDraw.bind(this),{passive:!0}),this._canvasElement.addEventListener("touchmove",this._draw.bind(this)),this._canvasElement.addEventListener("touchend",this._finishDraw.bind(this),{passive:!0})):(this._canvasElement.addEventListener("mousedown",this._startDraw.bind(this)),this._canvasElement.addEventListener("mouseup",this._finishDraw.bind(this)),this._canvasElement.addEventListener("mousemove",this._draw.bind(this)))}},{key:"_cancelDraw",value:function(){this._isDrawing&&(this._points.length=0,this._finishDraw(event))}},{key:"_draw",value:function(t){if(this._isDrawing){if(t.touches&&t.touches.length>1)return this._points.length<=2&&(this._points.length=0),void this._finishDraw(t);t.preventDefault();var e=this._getPointFromEvent(t);this._lastPoint=r.default.drawLineToMidPoint(this._lastPoint,e,this._context,{color:this._penColorElement.value,size:this._penSizeValueElement.textContent}),this._points.push(e)}}},{key:"_finishDraw",value:function(){if(this._isDrawing){if(this._isDrawing=!1,this._points.length){var t=new l.default({color:this._penColorElement.value,points:this._points.slice(0),size:this._penSizeValueElement.textContent});this._shapes.push(t),this._points.length=0}this._context.clearRect(0,0,this._context.canvas.width,this._context.canvas.height);for(var e=0;e<this._shapes.length;e++)r.default.drawLine(this._shapes[e].points,this._context,{color:this._shapes[e].color,size:this._shapes[e].size})}}},{key:"_getPointFromEvent",value:function(t){var e=void 0;if(t.touches){var n=t.touches[0],i=this._canvasElement.getBoundingClientRect();e=[n.clientX-i.left,n.clientY-i.top]}else e=[t.offsetX,t.offsetY];return e}},{key:"_setupCanvas",value:function(){this._canvasElement=document.getElementById("canvas"),this._canvasElement.setAttribute("width",window.innerWidth),this._canvasElement.setAttribute("height",window.innerHeight)}},{key:"_setupContext",value:function(){this._context=this._canvasElement.getContext("2d"),this._context.lineJoin=this._context.lineCap="round",this._context.globalCompositeOperation="source-over"}},{key:"_startDraw",value:function(t){this._isDrawing=!0,this._context.lineWidth=this._penSizeValueElement.textContent,this._context.strokeStyle=this._penColorElement.value,this._lastPoint=this._getPointFromEvent(t),this._points.push(this._lastPoint)}}]),t}();e.default=f},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){n(this,t)}return i(t,null,[{key:"drawLine",value:function(e,n,i){var s=e[0],o=e[1];if(s&&!o)n.fillStyle=i.color,n.beginPath(),n.arc(s[0],s[1],n.lineWidth/2,0,2*Math.PI,!1),n.fill();else{n.lineWidth=i.size,n.strokeStyle=i.color,n.beginPath(),n.moveTo(s[0],s[1]);for(var a=1,r=e.length;a<r;a++){var u=t.getMidPoint(s,o);n.quadraticCurveTo(s[0],s[1],u[0],u[1]),s=e[a],o=e[a+1]}n.stroke()}}},{key:"drawLineToMidPoint",value:function(e,n,i,s){i.lineWidth=s.size,i.strokeStyle=s.color,i.beginPath(),i.moveTo(e[0],e[1]);var o=t.getMidPoint(e,n);return i.quadraticCurveTo(e[0],e[1],o[0],o[1]),i.stroke(),o}},{key:"getMidPoint",value:function(t,e){return[t[0]+(e[0]-t[0])/2,t[1]+(e[1]-t[1])/2]}}]),t}();e.default=s},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e){n(this,t),this.points=e.points,this.color=e.color,this.size=e.size};e.default=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){n(this,t)}return i(t,null,[{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}}]),t}();e.default=s}])});
//# sourceMappingURL=app.min.js.map
